RS	EQU	P2.2
E	EQU	P2.3
SS	EQU	P2.0
C3	EQU	P3.0
C2	EQU	P3.1
C1	EQU	P3.2
C0	EQU	P3.3
X	EQU	30H	
	ORG	00H
	AJMP	MAIN
	ORG	30H
MAIN:	MOV	SP,#80H
	LCALL	LCD_INIT
	MOV	40H,#2
	MOV	41H,#2
	MOV	42H,#2
	MOV	43H,#2
	MOV	44H,#2
	MOV	45H,#2
	MOV	X,#80H
	MOV	DPTR,#TAB1
	LCALL	XRWC
MAI:	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#0C0H
	LCALL	XIEZL
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	31H,32H
	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	33H,32H
	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	34H,32H
	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	35H,32H
	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	36H,32H
	LCALL	AJPD
	LCALL	YS1S
	MOV	A,#"*"
	LCALL	XIESJ
	MOV	37H,32H
M1:	MOV	A,31H
	CJNE	A,40H,MC
	MOV	A,33H
	CJNE	A,41H,MC
	MOV	A,34H
	CJNE	A,42H,MC
	MOV	A,35H
	CJNE	A,43H,MC
	MOV	A,36H
	CJNE	A,44H,MC
	MOV	A,37H
	CJNE	A,45H,MC
	LCALL	LCD_INIT
	MOV	X,#80H
	MOV	DPTR,#TAB2
	LCALL	XRWC
	JB	SS,$
	AJMP	MAIN
MC:	LCALL	LCD_INIT
	MOV	X,#80H
	MOV	DPTR,#TAB3
	LCALL	XRWC
	MOV	X,#0C0H
	MOV	DPTR,#TAB4
	LCALL	XRWC
	LCALL	YS5S
	LCALL	LCD_INIT
	MOV	X,#80H
	MOV	DPTR,#TAB1
	LCALL	XRWC
	AJMP	MAI
AJPD:	MOV	P3,#7FH
	JNB	C0,AJ1
	JNB	C1,AJ2
	JNB	C2,AJ3
	JNB	C3,AJ4
	MOV	P3,#0BFH
	JNB	C0,AJ5
	JNB	C1,AJ6
	JNB	C2,AJ7
	JNB	C3,AJ8
	MOV	P3,#0DFH
	JNB	C0,AJ9
	JNB	C1,AJ0
	AJMP	AJPD
AJ1:	CLR	P1.0
	JNB	C0,$
	MOV	32H,#1
	RET
AJ2:	JNB	C1,$
	MOV	32H,#2
	RET
AJ3:	JNB	C2,$
	MOV	32H,#3
	RET
AJ4:	JNB	C3,$
	MOV	32H,#4
	RET
AJ5:	JNB	C0,$
	MOV	32H,#5
	RET
AJ6:	JNB	C1,$
	MOV	32H,#6
	RET
AJ7:	JNB	C2,$
	MOV	32H,#7
	RET
AJ8:	JNB	C3,$
	MOV	32H,#8
	RET
AJ9:	JNB	C0,$
	MOV	32H,#9
	RET
AJ0:	JNB	C1,$
	MOV	32H,#0
	RET
TAB1:DB	"Password:",00H
TAB2:DB	"Right!",00H
TAB3:DB	"Worry!write agai",00H
TAB4:DB	"n,Please.",00H
YS1S:	MOV	R5,#4
YS1:	MOV	R6,#250
YS2:	MOV	R7,#250
	DJNZ	R7,$
	DJNZ	R6,YS2
	DJNZ	R5,YS1
	RET
YS5S:	MOV	B,#10
YS3:	LCALL	YS1S
	DJNZ	B,YS3
	RET
LCD_INIT:
	MOV	B,#15
LCD2:	LCALL	YS1MS
	DJNZ	B,LCD2
	MOV	B,#3
LCD1:	MOV	A,#38H
	LCALL	XIEZL
	DJNZ	B,LCD1
	LCALL	YS1MS
	MOV	A,#0CH
	LCALL	XIEZL
	LCALL	YS1MS
	MOV	A,#1
	LCALL	XIEZL
	RET
XRWC:	MOV	A,X
	LCALL	XIEZL
	PUSH	ACC
XR1:	CLR	A
	MOVC	A,@A+DPTR
	JZ	XRC
	INC	DPTR
	LCALL	XIESJ
	AJMP	XR1
XRC:	POP	ACC
	RET
XIEZL:	MOV	P0,A
	CLR	RS
	SETB	E
	LCALL	YS1MS
	CLR	E
	RET
XIESJ:	MOV	P0,A
	SETB	RS
	SETB	E
	LCALL	YS1MS
	CLR	E
	RET
YS1MS:	MOV	R6,#2
Y1:	MOV	R5,#250
	DJNZ	R5,$
	DJNZ	R6,Y1
	RET
	END