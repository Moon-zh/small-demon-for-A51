CS2	EQU	P2.2
CS1	EQU	P2.3
E	EQU	P2.4
RS	EQU	P2.5
XD	EQU	30H
YD	EQU	31H
ZS	EQU	32H
XJ	EQU	33H
BZ	EQU	34H
TB1	EQU	35H
TB2	EQU	36H
ZSZJ	EQU	37H
CISHU	EQU	38H

	ORG	00H
	AJMP	MAIN
	ORG	30H
MAIN:	MOV	SP,#80H
	
	LCALL	LCD_INIT
	MOV	A,#0C0H
	LCALL	XIEZL
	SETB	CS1
	SETB	CS2
	MOV	XJ,#1
	MOV	XD,#0B8H
M1:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#64
M2:	MOV	A,#1
	LCALL	XIESJ
	DJNZ	CISHU,M2
	
	SETB	CS1
	SETB	CS2
	MOV	XJ,#1
	MOV	XD,#0BFH
M3:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#64
M4:	MOV	A,#80H
	LCALL	XIESJ
	DJNZ	CISHU,M4

	SETB	CS1
	CLR	CS2
	MOV	XJ,#8
	MOV	XD,#0B8H
M5:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#1
M6:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,M6
	INC	XD
	DJNZ	XJ,M5

	SETB	CS2
	CLR	CS1
	MOV	XJ,#8
	MOV	XD,#0B8H
M7:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#7FH
	LCALL	XIEZL
	MOV	CISHU,#1
M8:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,M8
	INC	XD
	DJNZ	XJ,M7



	SETB	CS1
	CLR	CS2
	MOV	XJ,#1
	MOV	XD,#0BDH
MQ:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#50H
	LCALL	XIEZL
	MOV	CISHU,#48
MW:	MOV	A,#1H
	LCALL	XIESJ
	DJNZ	CISHU,MW

	MOV	XJ,#1
	MOV	XD,#0BEH
MA:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#50H
	LCALL	XIEZL
	MOV	CISHU,#48
MS:	MOV	A,#1H
	LCALL	XIESJ
	DJNZ	CISHU,MS

	CLR	CS1
	SETB	CS2
	MOV	XJ,#1
	MOV	XD,#0BDH
MQ1:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#48
MW1:	MOV	A,#1H
	LCALL	XIESJ
	DJNZ	CISHU,MW1

	MOV	XJ,#1
	MOV	XD,#0BEH
MA1:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#48
MS1:	MOV	A,#1H
	LCALL	XIESJ
	DJNZ	CISHU,MS1


	SETB	CS1
	CLR	CS2
	MOV	XJ,#1
	MOV	XD,#0BDH
MR:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#50H
	LCALL	XIEZL
	MOV	CISHU,#1
MT:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,MT
	INC	XD
	DJNZ	XJ,MR

	SETB	CS2
	CLR	CS1
	MOV	XJ,#1
	MOV	XD,#0BDH
MY:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#6FH
	LCALL	XIEZL
	MOV	CISHU,#1
MU:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,MU
	INC	XD
	DJNZ	XJ,MY

	SETB	CS1
	CLR	CS2
	MOV	XJ,#1
	MOV	XD,#0BDH
	MOV	B,#48
	MOV	YD,#50H
MY1:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,YD
	LCALL	XIEZL
	MOV	CISHU,#1
MU1:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,MU1
	LCALL	YS10MS
	INC	YD
	DJNZ	B,MY1

	SETB	CS2
	CLR	CS1
	MOV	XJ,#1
	MOV	XD,#0BDH
	MOV	B,#48
	MOV	YD,#40H
MY2:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,YD
	LCALL	XIEZL
	MOV	CISHU,#1
MU2:	MOV	A,#0FFH
	LCALL	XIESJ
	DJNZ	CISHU,MU2
	LCALL	YS10MS
	INC	YD
	DJNZ	B,MY1
	AJMP	$



	AJMP	$

YS10MS:	MOV	R5,#100
YS1:	MOV	R6,#100
	DJNZ	R6,$
	DJNZ	R5,YS1
	RET




LCD_INIT:	
	SETB	CS1
	SETB	CS2
	MOV	A,#3FH
	LCALL	XIEZL
	LCALL	QP
	RET
QP:	MOV	XJ,#8
	MOV	XD,#0B8H
QP1:	MOV	A,XD
	LCALL	XIEZL
	MOV	A,#40H
	LCALL	XIEZL
	MOV	CISHU,#64
QP2:	MOV	A,#0
	LCALL	XIESJ
	DJNZ	CISHU,QP2
	INC	XD
	DJNZ	XJ,QP1
	RET
XIEZL:	CLR	E
	CLR	RS
	NOP
	MOV	P0,A
	SETB	E
	CLR	E
	RET
XIESJ:	CLR	E
	SETB	RS
	NOP
	MOV	P0,A
	SETB	E
	CLR	E
	RET
	END